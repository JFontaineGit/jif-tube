@use '../../../styles/_variables.scss' as var;
@use '../../../styles/_mixins.scss' as mix;
@use '../../../styles/_media-queries.scss' as media;

.home-container {
  padding: var.$spacing-3xl var.$spacing-2xl;
  min-height: calc(100vh - var.$navbar-height);
  transition: background var.$transition-slow;
  gap: var.$spacing-3xl;
  @include mix.flex-column;

  .loading-message {
    text-align: center;
    padding: var.$spacing-3xl;
    gap: var.$spacing-md;
    @include mix.flex-column-center;

    .material-icons {
      font-size: 3rem;
      color: var(--ytmusic-album-color, var.$dynamic-primary);
      
      &.spinning {
        animation: spin 1s linear infinite;
      }
    }

    p {
      color: var.$text-secondary;
      font-size: var.$font-size-lg;
    }
  }

  // Error State
  .error-message {
    color: #fee;
    background: color-mix(in srgb, #ef4444 20%, transparent);
    border: 1px solid #ef4444;
    text-align: center;
    padding: var.$spacing-lg;
    border-radius: var.$radius-lg;
    justify-content: center;
    @include mix.flex-inline(var.$spacing-sm);

    .material-icons {
      font-size: var.$font-size-xl;
    }
  }

  // Empty State
  .empty-state {
    text-align: center;
    padding: var.$spacing-3xl;
    gap: var.$spacing-md;
    @include mix.flex-column-center;

    .material-icons {
      font-size: 4rem;
      color: var.$text-tertiary;
    }

    p {
      color: var.$text-secondary;
      font-size: var.$font-size-lg;
    }
  }

  // Songs Section
  .songs-section {
    margin-bottom: var.$spacing-2xl;

    .section-header {
      margin-bottom: var.$spacing-xl;
      @include mix.flex-between;

      .section-title {
        color: var(--text-primary, var.$text-primary);
        @include mix.heading-secondary;
      }

      .navigation-buttons {
        @include mix.flex-inline(var.$spacing-sm);

        .nav-button {
          width: var.$spacing-2xl;
          height: var.$spacing-2xl;
          border-radius: var.$radius-full;
          transition: all var.$transition-fast;
          @include mix.button-secondary;
          @include mix.flex-center;
          
          &:hover:not(:disabled) {
            background-color: color-mix(in srgb, var(--ytmusic-album-color) 20%, var.$bg-secondary);
            border-color: var(--ytmusic-album-color, var.$dynamic-primary);
            transform: scale(1.1);
          }

          &:disabled {
            background-color: var.$bg-tertiary;
            cursor: not-allowed;
            opacity: 0.5;
          }

          .material-icons {
            font-size: var.$font-size-lg;
            color: var(--text-primary, var.$text-primary);
          }
        }
      }
    }

    .songs-row {
      gap: var.$spacing-lg;
      overflow-x: auto;
      scroll-behavior: smooth;
      padding-bottom: var.$spacing-sm;
      @include mix.flex-start;
      @include mix.custom-scrollbar;

      &::-webkit-scrollbar {
        display: none;
      }

      & {  // Wrap pa' fix mixed-decls: scrollbar-width despu√©s del nested
        scrollbar-width: none;
      }
    }
  }
}

// Spinning animation
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

// Mobile
@include media.mobile-only {
  .home-container {
    padding: var.$spacing-xl var.$spacing-md;

    .loading-message .material-icons {
      font-size: 2rem;
    }

    .songs-section {
      .section-header {
        .section-title {
          font-size: var.$font-size-lg;
        }

        .navigation-buttons {
          .nav-button {
            width: var.$spacing-xl;
            height: var.$spacing-xl;

            .material-icons {
              font-size: var.$font-size-sm;
            }
          }
        }
      }
    }
  }
}

// Tablet+
@include media.tablet-up {
  .home-container {
    .songs-row {
      gap: var.$spacing-xl;
    }
  }
}

// Reduce motion
@include media.reduce-motion {
  .home-container {
    transition: none;

    .loading-message .material-icons.spinning {
      animation: none;
    }

    .songs-section .section-header .navigation-buttons .nav-button {
      transition: none;
    }
  }
}