<nav
  class="navbar"
  [class.scrolled]="isScrolled"
  role="navigation"
  aria-label="Main navigation">
  <div class="navbar-container">
    <!-- MenÃº hamburguesa + Logo -->
    <div class="navbar-brand">
      <button
        class="menu-btn"
        (click)="onToggleSidebar()"
        aria-label="Toggle menu"
        type="button">
        <svg
          class="icon"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2.5"
            d="M3 12h18M3 6h18M3 18h18" />
        </svg>
      </button>

      <h1 class="app-logo">
        <span class="logo-icon">ðŸŽµ</span>
        JifTube
      </h1>
    </div>

    <!-- Barra de bÃºsqueda -->
    <div class="search-container" [class.focused]="isFocused()">
      <form class="search-form" (ngSubmit)="searchSongs()" role="search">
        <div class="search-input-wrapper">
          <button
            type="button"
            class="search-icon-btn"
            aria-label="Search"
            tabindex="-1">
            <span class="material-icons">search</span>
          </button>

          <input
            #searchInput
            type="text"
            [ngModel]="searchQuery()"
            (ngModelChange)="searchQuery.set($event)"
            [ngModelOptions]="{standalone: true}"
            placeholder="Buscar mÃºsica, soundtracks, covers..."
            (focus)="onFocus()"
            (blur)="onBlur()"
            (input)="onInput($event)"
            class="search-input"
            role="searchbox"
            aria-label="Search for music"
            autocomplete="off"
            spellcheck="false"
          />

          @if (searchQuery()) {
            <button
              type="button"
              class="clear-btn"
              (click)="clearSearch()"
              aria-label="Clear search">
              <span class="material-icons">close</span>
            </button>
          }

          <button
            type="submit"
            class="search-btn"
            [disabled]="!searchQuery().trim()"
            aria-label="Search">
            <span class="material-icons">arrow_forward</span>
          </button>
        </div>

        <!-- Resultados o estado vacÃ­o -->
        @if (noResults() && isFocused()) {
          <div class="search-feedback" role="status">
            <span class="material-icons">search_off</span>
            <p>No se encontraron resultados</p>
            <span class="suggestion">Prueba con otro tÃ©rmino</span>
          </div>
        }
      </form>
    </div>

    <!-- Perfil y acciones -->
    <div class="navbar-actions">
      <button
        class="action-btn profile-btn"
        aria-label="User profile"
        type="button">
        <span class="material-icons">account_circle</span>
      </button>
    </div>
  </div>
</nav>
