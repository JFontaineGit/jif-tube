<div class="search-bar" [class.focused]="isFocused" [style.background]="gradientStyle">
  <input 
    type="text" 
    [(ngModel)]="searchQuery" 
    placeholder="Buscar canciones, Ã¡lbumes, artistas..."
    (focus)="onFocus()"
    (blur)="onBlur()"
    (keyup.enter)="searchSongs()"
    #searchInput
  >
  <button class="search-submit" (click)="searchSongs()" [disabled]="!searchQuery.trim()">
    <span class="material-icons">search</span>
  </button>
  <div class="search-tabs" *ngIf="isFocused">
    <button 
      *ngFor="let tab of searchTabs" 
      [class.active]="activeTab === tab.value"
      (click)="setActiveTab(tab.value)"
      [style.background]="activeTab === tab.value ? dominantColor : 'transparent'"
    >
      {{ tab.label }}
    </button>
  </div>
  <button class="clear-button" (click)="clearSearch()" *ngIf="searchQuery">
    <span class="material-icons">close</span>
  </button>
</div>