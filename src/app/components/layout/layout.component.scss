@use '../../../styles/variables' as *;
@use '../../../styles/mixins' as *;

.app-container {
  position: relative;
  @include flex-start;
  flex-direction: row;
  height: 100vh;
  width: 100vw;
  background: var(--bg-primary);
  transition: background $transition-slower;
  overflow: hidden;
  z-index: 1;
  
  &::after {
    content: "";
    @include absolute-fill;
    background: var(--bg-overlay);
    opacity: 0.1;
    pointer-events: none;
    z-index: -1;
  }
  
  .main-content {
    position: relative;
    z-index: 2;
    flex-grow: 1;
    @include flex-column;
    margin-left: $sidebar-width;
    padding: $spacing-lg;
    padding-top: $navbar-height;
    overflow-y: auto;
    min-width: 0;
    transition: margin-left $transition-slow;
    background: transparent;
    @include custom-scrollbar;
    
    @include tablet-only {
      margin-left: $sidebar-width-mobile;
      padding: $spacing-md;
    }
    
    @include mobile-only {
      margin-left: $sidebar-width-mobile;
      padding: $spacing-sm;
    }
    
    main {
      flex: 1;
      padding: $spacing-lg;
      
      @include tablet-only {
        padding: $spacing-md;
      }
      
      @include mobile-only {
        padding: $spacing-sm;
      }
    }
  }
  
  .player-container {
    position: fixed;
    bottom: 0;
    left: $sidebar-width;
    width: calc(100vw - $sidebar-width);
    background: var(--bg-card);
    backdrop-filter: $blur-lg;
    -webkit-backdrop-filter: $blur-lg;
    border-top: 1px solid var(--border-color);
    box-shadow: 0 -4px 20px var(--shadow-color-lg);
    z-index: $z-fixed;
    transition: all $transition-slow;
    
    @include tablet-only {
      left: $sidebar-width-mobile;
      width: calc(100vw - $sidebar-width-mobile);
    }
    
    @include mobile-only {
      left: $sidebar-width-mobile;
      width: calc(100vw - $sidebar-width-mobile);
    }
    
    app-player {
      width: 100%;
    }
    
    &[style*="display: none"] {
      display: none !important;
    }
  }
}